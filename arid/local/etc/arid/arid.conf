<!-- DON'T EDIT THIS FILE! It is generated from arid.conf.in, edit that one, or the variables in Makefile.options -->
<ocsigen>
  <server>
    <port>80</port>
    <user>www-data</user><group>www-data</group>
    <logdir>/usr/local/var/log/arid</logdir>
    <datadir>/usr/local/var/data/arid</datadir>
    <charset>utf-8</charset>
    <uploaddir>/tmp</uploaddir> <!-- Customize this -->
    <usedefaulthostname/>
    <debugmode />
    <extension findlib-package="ocsigenserver.ext.accesscontrol"/>
    <extension findlib-package="ocsigenserver.ext.cors"/>
    <commandpipe>/usr/local/var/run/arid-cmd</commandpipe>
    <extension findlib-package="ocsigenserver.ext.staticmod"/>
    <extension findlib-package="ocsipersist.dbm">
      <!-- delayloading val="true"/ -->
      <store dir="/usr/local/var/data/arid"/>
      <ocsidbm name="ocsidbm"/>
    </extension>
    <!--
    <extension findlib-package="ocsipersist.sqlite">
      <database file="/usr/local/var/data/arid/ocsidb"/>
    </extension>
    -->
    <!--
    <extension findlib-package="ocsipersist.pgsql">
      <database
        host=""
        port=""
        user=""
        password=""
        database="ocsipersist_arid"
      />
    </extension>
    -->
    <extension findlib-package="eliom.server">
      <!-- Ask Eliom to ignore UTM parameters and others: -->
      <ignoredgetparams regexp="utm_[a-z]*|[a-z]*clid|li_fat_id"/>
<!-- Uncomment if you are using https only and want secure cookies:
       <securecookies value="true" />
  -->
    </extension>
    
    <host hostfilter="*">
      <static dir="/usr/local/var/www/arid" />
      
      <eliommodule module="/usr/local/lib/arid/arid.cma">
        <app name="arid_1b5c2f6aa6aa997db182defc4b769c6f" css="" />
        <avatars dir="/usr/local/var/www/arid/avatars" />
        <os-db
          host=""
          port=""
          user=""
          password=""
          database=""
        />
      </eliommodule>
      <eliom/>
      <if>
        <!-- Remove the condition (or change it to true) if you're serving an iOS app and having
             "Origin null is not allowed by Access-Control-Allow-Origin.",
             since with iOS WkWebView, your origin is a local HTML file on the iOS platform. -->
        <header name="origin" regexp="http://localhost:8000"/>
        <then>
          <cors max_age="86400"
            credentials="true"
            methods="POST,GET,HEAD"
            exposed_headers="x-eliom-application,x-eliom-location,x-eliom-set-process-cookies,x-eliom-set-cookie-substitutes"/>
        </then>
      </if>
    </host>
  </server>
</ocsigen>
